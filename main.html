
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Terra</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header class="app-header">
        <div class="logo">GreenBag</div>
        <div class="user-profile">
            <div class="points">GP <span id="points-display">0</span></div>
            <button id="open-qr-modal-button" class="header-button">ì½”ë“œ ìž…ë ¥</button>
            <button id="logout-button" class="logout-button">Log Out</button>
        </div>
    </header>

    <main class="app-main">
        <nav class="app-nav">
            <button class="nav-button active" onclick="showView('dashboard')">Dashboard</button>
            <button class="nav-button" onclick="showView('transactions')">Activity</button>
            <button class="nav-button" onclick="showView('shop')">Redeem</button>
            <button class="nav-button" onclick="showView('coupons')">My Coupons</button>
            <button class="nav-button" onclick="showView('tips')">Tips</button>
            <button class="nav-button" onclick="window.open('https://f331e229-de25-47cb-9840-789850a5992e-00-1u3woucvj9zby.pike.replit.dev', '_blank')">Scan QR</button>
        </nav>

        <div id="dashboard-view" class="app-view active">
            <div class="tree-container-wrapper card">
                 <canvas id="tree-canvas" width="300" height="400"></canvas>
                 <div class="tree-controls">
                     <div class="water-display">ðŸ’§ Water: <span id="water-display">0</span></div>
                     <button id="water-tree-button" class="water-button">Water Tree (-100)</button>
                 </div>
                 <p style="margin-top: 1rem; color: #666;">Use water to grow your tree.</p>
            </div>
        </div>

        <div id="transactions-view" class="app-view list-view card">
            <h2>Activity Feed</h2>
            <ul id="transaction-list"></ul>
        </div>

        <div id="shop-view" class="app-view">
            <h2>Redeem Points</h2>
            <div id="shop-items" class="shop-grid"></div>
        </div>

        <div id="coupons-view" class="app-view">
            <h2>My Coupons</h2>
            <div id="coupon-list" class="coupon-grid"></div>
        </div>

        <div id="tips-view" class="app-view list-view card">
            <h2>Sustainability Tips</h2>
            <ul id="tips-list"></ul>
        </div>
    </main>

    <div id="qr-code-modal" class="modal-overlay">
        <div class="modal-content">
            <button id="close-modal-button" class="close-modal-button">&times;</button>
            <h2>Enter Product Code</h2>
            <div class="qr-input-container">
                <input type="text" id="qr-code-input" placeholder="Enter QR Code">
                <button id="qr-submit-button">Submit</button>
                <p id="qr-result"></p>
            </div>
        </div>
    </div>

    <div id="product-details-modal" class="modal-overlay">
        <div class="modal-content product-modal">
            <button id="close-product-modal-button" class="close-modal-button">&times;</button>
            <img id="product-image" src="" alt="Product Image">
            <h2 id="product-name"></h2>
            <p id="product-description"></p>
            <div class="product-info-section">
                <h3>Pros</h3>
                <p id="product-pros"></p>
            </div>
            <div class="product-info-section">
                <h3>Cons</h3>
                <p id="product-cons"></p>
            </div>
            <div class="rating-section">
                <h3>Rate this product</h3>
                <div class="stars" id="product-rating-stars">
                    <span data-value="1">â˜†</span><span data-value="2">â˜†</span><span data-value="3">â˜†</span><span data-value="4">â˜†</span><span data-value="5">â˜†</span>
                </div>
            </div>
        </div>
    </div>

    <div id="feedback-container" class="feedback-container"></div>

    <button id="dev-reset-button" class="dev-button">Dev Reset</button>

    <script src="app.js"></script>
</body>
</html>
